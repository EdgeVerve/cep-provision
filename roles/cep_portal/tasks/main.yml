#Â©2016-2017 EdgeVerve Systems Limited (a fully owned Infosys subsidiary),Bangalore, India. All Rights Reserved.

- name: check if CEP Portal is already present
  shell: "docker service ls | grep cep_portal| wc -l"
  register: existing_paasui_op
  ignore_errors: yes
  
- name: spin CEP Portal container
  shell: >
         docker service create --with-registry-auth 
         --name cep_portal 
         --network router_network
         --mount target=/data,source={{cepfolder}}/cep/cep-data/cep-portal,type=bind
         --mount target=/config,source={{cepfolder}}/cep/cep-portal,type=bind
         --mount target=/etc/hosts,source=/etc/hosts,type=bind,ro=1
         --mount target=/certs,source={{cepfolder}}/cep/certificates,type=bind,ro=1
         --constraint "node.role == manager" 
         -e FORCE_SSL=yes
         -e SERVICE_PORTS="9000" 
         -e VIRTUAL_HOST="https://cep-portal.{{domainname}},cep-portal.{{domainname}}"
         {{ paasui }} --external-endpoints /config/endpoint-jsonArr.json 
         --logo "data:image/png;base64,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"
  when: existing_paasui_op.stdout == "0" and (setupNFS == True or setupNFS == "yes")
  
- name: spin CEP Portal container
  shell: >
         docker service create --with-registry-auth 
         --name cep_portal 
         --network router_network
         --mount target=/data,source={{cepfolder}}/cep/cep-data/cep-portal,type=bind
         --mount target=/config,source={{cepfolder}}/cep/cep-portal,type=bind
         --mount target=/etc/hosts,source=/etc/hosts,type=bind,ro=1
         --mount target=/certs,source={{cepfolder}}/cep/certificates,type=bind,ro=1
         --constraint "node.hostname == $HOSTNAME" 
         -e FORCE_SSL=yes
         -e SERVICE_PORTS="9000" 
         -e VIRTUAL_HOST="https://cep-portal.{{domainname}},cep-portal.{{domainname}}"
         {{ paasui }} --external-endpoints /config/endpoint-jsonArr.json 
         --logo "data:image/png;base64,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"
  when: existing_paasui_op.stdout == "0" and (setupNFS == False or setupNFS == "no")
  
- name: Reload CEP Portal if config changed
  shell: "docker service update cep_portal --force"
  when: existing_paasui_op.stdout != "0" and conf_changed is defined and ( conf_changed | changed )
  